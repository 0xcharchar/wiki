<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Building Secure Smart Contracts</title>
    <link rel="stylesheet" type="text/css" href="/wiki/style.css" />
  </head>

  <body>
    <main>
      
<div id="Building Secure Smart Contracts"><h1 id="Building Secure Smart Contracts" class="header"><a href="#Building Secure Smart Contracts">Building Secure Smart Contracts</a></h1></div>

<p>
Speaker: Harry Papacharissiou <a href="https://twitter.com/pappas9999">@pappas9999 on Twitter</a>
</p>

<ul>
<li>
two main sources of bugs:

<ul>
<li>
infrastructure (protocols/evm)

<li>
smart contracts

</ul>
<li>
known vulnerabilities and exploits:

<ul>
<li>
timestamp dependence and manipulation:

<ul>
<li>
can be manipulated by a miner for a small window

<li>
solutions:

<ul>
<li>
don't use timestamps

<li>
use <code>block.number</code> -&gt; estimate time

</ul>
</ul>
<li>
unexpected ether:

<ul>
<li>
can't protect against other contracts using <code>selfDestruct()</code>, which is a unreversable function

<li>
if logic requires control of ether, it will likely break

<li>
solution:

<ul>
<li>
don't use <code>this.balance</code>

<li>
logic should be built to track ether independently of what contract has

</ul>
</ul>
<li>
Tx.Origin:

<ul>
<li>
can be used by malicious contract to trigger functinos

<li>
solution:

<ul>
<li>
don't use <code>tx.origin</code> for authorization

</ul>
</ul>
<li>
delegateCall:

<ul>
<li>
this guy is too fast, check paritywallet hack

<li>
solution:

<ul>
<li>
use library contracts

</ul>
</ul>
<li>
overflow/underflow attack:

<ul>
<li>
wrapping integers can cause problems

<li>
Beauty Ecosystem Coin

<li>
solution:

<ul>
<li>
use SafeMath

<li>
use solidity v0.8.0+

</ul>
</ul>
<li>
DoS attack:

<ul>
<li>
make contract inoperable or trap ether

<li>
giving a user control over the execution of a contract via external call or data structures that have loops

<li>
solution:

<ul>
<li>
use multi-sig contract

<li>
don't loop through uncontrolled structures

<li>
time locked resets

</ul>
</ul>
<li>
Race conditions / front running:

<ul>
<li>
MEV

<li>
running a contract with higher gas usage

<li>
solutions:

<ul>
<li>
modify upper bound on gas prices

<li>
use a commit-reveal scheme

<li>
chainlink FSS

</ul>
</ul>
<li>
re-entrancy attack:

<ul>
<li>
sends ether to a contract

<li>
solution:

<ul>
<li>
use <code>transfer</code> when sending to another contract

<li>
ensure all logic changes state first

<li>
use a mutex

</ul>
<li>
see The DAO hack

</ul>
</ul>
</ul>

<p>
I missed the last part of the talk :(
</p>

    </main>
  </body>
</html>
